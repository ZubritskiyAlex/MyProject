import React, {Component} from "react"
import {connect} from "react-redux"
import * as R from 'ramda'

import {fetchProductById} from 'actions'
import {getProductById} from "../../selectors";


class Product extends Component{
    componentDidMount() {
        this.props.fetchProductById(this.props.match.params.id)
    }

    renderFields(){
        const {product} = this.props


        const columnField = R.compose(
            R.toPairs,
            R.pick([
                'id',
                'stores',
                'title',
                'description',
                'price',
                'image',
            ])
        )
    }
}







    renderContent() {
        const {phone} = this.props
        return(
            <iv className='thumbnail'>
                <div className='row'>
                    <div className='col-md-6'>
                        <img
                        className='img-thumbnail'
                        src={product.image}
                        alt={product.name}
                        />
                    </div>
                    <div className='col-md-6'>
                        {this.renderFields()}
                    </div>
                </div>
            <div className=className='caption-full'>
                <h4 className='pull-right'>${product.price}</h4>
                <h4>{product.name}</h4>
                <p>{product.description}</p>
            </div>

        )
    }
}

const mapStateToProps = state => {
    return{
        product: getProductById(state, state.productPage.id)
    }
}


const mapDispatchToProps = {
    fetchProductById
}

export default connect(mapStateToProps, mapDispatchToProps)(Product)